<section id="section-rey-profile" class="glass-card rounded-3xl overflow-hidden" data-aos="fade-up">
    <div class="p-6 border-b border-slate-200/50 dark:border-slate-700/50 flex justify-between items-center bg-white/30 dark:bg-slate-800/30">
        <div class="flex items-center gap-3">
            <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-500">
                <i data-lucide="shield" class="w-5 h-5"></i>
            </div>
            <div>
                <h3 id="section-partnerB-heading" class="font-bold text-base md:text-lg text-slate-800 dark:text-white">Guardian Profile</h3>
                <p id="section-partnerB-subtitle" class="text-xs text-slate-500 dark:text-slate-400">Rey's Profile Section</p>
            </div>
        </div>
        <button id="btn-save-rey-profile" onclick="saveReyProfile()" class="px-3 py-2 md:px-4 bg-blue-500 hover:bg-blue-600 text-white text-xs md:text-sm font-medium rounded-full shadow-lg shadow-blue-500/30 transition-transform hover:scale-105 flex items-center gap-1 md:gap-2">
            <i data-lucide="save" class="w-4 h-4"></i> Save Changes
        </button>
    </div>

    <div class="p-4 md:p-8 grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
        <!-- Photo -->
        <div class="md:col-span-1">
            <label class="block text-sm font-bold mb-3 text-slate-700 dark:text-slate-300">Profile Photo</label>
            <div class="relative group rounded-2xl overflow-hidden aspect-[3/4] border-4 border-white dark:border-slate-700 shadow-xl">
                <div class="absolute inset-0 bg-slate-200 dark:bg-slate-700 animate-pulse" id="reyPhotoSkeleton"></div>
                <img id="reyProfilePreview"
                    src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
                    class="w-full h-full object-cover transition duration-500 group-hover:scale-110 opacity-0"
                    onload="if(this.src.indexOf('data:image/gif') === -1) { this.classList.remove('opacity-0'); document.getElementById('reyPhotoSkeleton')?.classList.add('hidden'); }">
                <div id="rey-photo-overlay" class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center cursor-pointer backdrop-blur-sm">
                    <button class="bg-white/90 text-slate-900 px-5 py-2.5 rounded-full text-sm font-bold flex items-center gap-2 shadow-lg hover:bg-white transition">
                        <i data-lucide="upload" class="w-4 h-4"></i> Change Photo
                    </button>
                </div>
                <input type="file" id="rey-photo-input" class="absolute inset-0 opacity-0 cursor-pointer" onchange="updatePreview(this, 'reyProfilePreview')">
            </div>
            <p class="text-xs text-center text-slate-400 mt-3">Recommended: Portrait 3:4</p>

            <!-- Stickers -->
            <div class="mt-6">
                <label class="block text-sm font-bold mb-3 text-slate-700 dark:text-slate-300 flex items-center gap-2">
                    <i data-lucide="sparkles" class="w-4 h-4 text-pink-500"></i>
                    <span id="section-partnerB-stickers-label">Stickers from Anya</span>
                </label>
                <div id="rey-stickers-display" class="flex flex-wrap gap-2 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl min-h-[60px] items-center justify-center">
                    <span class="text-slate-400 text-xs" id="no-stickers-msg">No stickers yet ðŸ’•</span>
                </div>
                <div id="sticker-picker" class="hidden mt-3">
                    <p id="section-partnerB-sticker-prompt" class="text-xs text-slate-500 dark:text-slate-400 mb-2">Add a sticker for Rey:</p>
                    <div class="flex flex-wrap gap-2">
                        {['â¤ï¸','ðŸ’•','âœ¨','ðŸŒŸ','ðŸ¥°','ðŸ˜˜','ðŸ’–','ðŸ¦‹'].map(s => (
                            <button onclick={`addSticker('${s}')`} class="text-2xl hover:scale-125 transition">{s}</button>
                        ))}
                    </div>
                </div>
            </div>
        </div>

        <!-- Form -->
        <div class="md:col-span-2 space-y-4 md:space-y-6">
            <div>
                <label class="block text-sm font-bold mb-2 text-slate-700 dark:text-slate-300">Display Name</label>
                <input type="text" id="input-rey-name" value="" placeholder="M Reyvan Purnama" class="w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition backdrop-blur-sm">
            </div>
            <div>
                <label class="block text-sm font-bold mb-2 text-slate-700 dark:text-slate-300">Title / Role</label>
                <input type="text" id="input-rey-title" value="" placeholder="The Observer" class="w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition backdrop-blur-sm">
            </div>
            <div>
                <label class="block text-sm font-bold mb-2 text-slate-700 dark:text-slate-300">Bio / Quote</label>
                <textarea id="input-rey-bio" rows="3" placeholder="I see the universe in your eyes..." class="w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition backdrop-blur-sm resize-none"></textarea>
            </div>
            <div class="p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl border border-blue-200/50 dark:border-blue-500/20">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-tr from-blue-400 to-cyan-500 flex items-center justify-center">
                        <i data-lucide="shield" class="w-5 h-5 text-white"></i>
                    </div>
                    <div>
                        <p id="section-partnerB-badge-role" class="font-bold text-sm text-slate-800 dark:text-white">The Guardian</p>
                        <p class="text-xs text-slate-500 dark:text-slate-400">Protector of this universe</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Guardian Gallery -->
    <div class="p-4 md:p-8 border-t border-slate-200/50 dark:border-slate-700/50">
        <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-3">
                <i data-lucide="grid-3x3" class="w-5 h-5 text-blue-500"></i>
                <h4 class="font-bold text-slate-800 dark:text-white">Profile Gallery</h4>
                <span id="section-partnerB-gallery-subtitle" class="text-xs text-slate-400">Photos shown on him.html</span>
            </div>
            <button onclick="addGuardianGalleryPhoto()" class="px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-medium rounded-full hover:bg-blue-200 dark:hover:bg-blue-900/50 transition flex items-center gap-1">
                <i data-lucide="plus" class="w-3 h-3"></i> Add Photo
            </button>
        </div>
        <div id="guardian-gallery-grid" class="grid grid-cols-2 md:grid-cols-4 gap-3">
            {Array.from({length: 3}).map(() => (
                <div class="aspect-square rounded-xl bg-slate-100 dark:bg-slate-800 animate-pulse"></div>
            ))}
        </div>
    </div>
</section>
