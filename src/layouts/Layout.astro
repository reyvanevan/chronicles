---
import '../styles/global.css';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';

interface Props {
	title: string;
	description?: string;
}

const { title, description = "A small space on the internet to capture what the world should know about you." } = Astro.props;
---

<!doctype html>
<html lang="id" class="scroll-smooth overflow-x-clip">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<title>{title} | World of Anya</title>

		<!-- Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@0,600;0,700;1,600&display=swap" rel="stylesheet">

		<!-- AOS & Lucide CDN -->
		<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
		<script is:inline src="https://unpkg.com/lucide@latest"></script>

		<!-- Theme Initialization -->
		<script is:inline>
			// Check for theme immediately
			const theme = (() => {
				if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
					return localStorage.getItem('theme');
				}
				if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
					return 'dark';
				}
				return 'light';
			})();

			if (theme === 'dark') {
				document.documentElement.classList.add('dark');
			} else {
				document.documentElement.classList.remove('dark');
			}
			
			// Global toggle function
			window.toggleTheme = function() {
				const element = document.documentElement;
				element.classList.toggle('dark');

				const isDark = element.classList.contains('dark');
				localStorage.setItem('theme', isDark ? 'dark' : 'light');
			}
		</script>
	</head>
	<body class="bg-gradient-to-br from-brand-blue via-slate-50 to-brand-pink dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 min-h-screen text-slate-700 dark:text-slate-300 overflow-x-clip selection:bg-brand-pink selection:text-brand-accent">
		
		<Navbar />

		<slot />

		<Footer />

		<!-- Core Scripts -->
		<script is:inline src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
		<script is:inline src="/js/script.js"></script>
	</body>
</html>
